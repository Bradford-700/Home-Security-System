<!DOCTYPE html>
<html lang="en">
<head>
    <script src="send.js"></script>
    <script src="sendNo2.js"></script>
    <script src="receive.js"></script>
    <script src="messageTypes.js"></script>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<button onclick="locall()">Send message 1</button>
    <script>
        function locall(){
            var amqp = require('amqplib/callback_api');

//connection to the rabbitmq server
            amqp.connect('amqp://localhost', function(error0, connection) {
                if (error0) {
                    throw error0;
                }
                connection.createChannel(function(error1, channel) {
                    if (error1) {
                        throw error1;
                    }

                    //queue name for the RabbitMQ
                    var queue = 'notifications';
                    var msg = 'Local message sent';

                    channel.assertQueue(queue, {
                        durable: false
                    });
                    channel.sendToQueue(queue, Buffer.from(msg));

                    //confirm that message is sent
                    console.log(" [x] Sent %s", msg);
                });
                //close connection after it is sent
                setTimeout(function() {
                    connection.close();
                    process.exit(0);
                }, 500);
            });
        }

    </script>
<button onclick="local2()">Send message 2</button>
<button onclick="display()">Receive all messages</button>
</body>
</html>